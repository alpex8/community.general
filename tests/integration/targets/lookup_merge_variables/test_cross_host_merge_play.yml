---
- name: Demonstrate Merging Host Reference Variables
  hosts: host1
  connection: local
  gather_facts: false
  tasks:
    - name: Merge Cross Group Variables
      ansible.builtin.set_fact:
        merge_result: "{{ merge1 }}"
    - name: Show Merge Result
      ansible.builtin.debug:
        msg: "{{ merge_result }}"
    - name: Validate Merge Result
      ansible.builtin.assert:
        that:
          - "merge_result | length == 3"
          - "merge_result.host == 'host1'"
          - "merge_result.user == 'usr'"
          - "merge_result.pass == 'pwd'"
